<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>2021-10-18 slider</title>
        <link rel="stylesheet" href="../css/reset.css">
        <style>
            img { width:500px; }
            #wrap {
                width:500px; height:230px;
                margin:0 auto;
                background-color: dodgerblue;
            }
            #wrap ul {
            width:500px; 
            height:200px;
            position:relative;
            overflow: hidden;
            }
            #wrap ul li {
                position:absolute; left:100%
            }
            #wrap li:first-child { left:0;  }
        </style>

        <script src="../js/jquery-3.1.1.min.js"></script>
    </head>
    <body>
        <div id ="wrap">
            <ul>
                <li><img src="../images/images01.jpg" alt="img1"></li>
                <li><img src="../images/images02.jpg" alt="img2"></li>
                <li><img src="../images/images03.jpg" alt="img3"></li>
                <li><img src="../images/images04.jpg" alt="img4"></li>
                <li><img src="../images/images05.jpg" alt="img5"></li>
            </ul>
            <div class="btn">
                <a href="#" class="prev">이전</a> | <a href="#" class="next">다음</a>
            </div>
        </div>

        <script>
            // [1] next 버튼  실행 ⇨ [2] 함수 실행 : 슬라이드 작동 ⇨ [3] 트리거 사용 하여 next 버튼 실행 
            // [4] next 이중 클릭 ⇨ overBtn = false 
            // [5] 이전 버튼 생성
            let current = 0;
            let overBtn = false;

            // nextSlider() 함수 생성
            function nextSlider() {

                if (overBtn == false) { 
                    overBtn = true;
                    $("#wrap li")
                        .eq(current)
                        .css({"left":0})
                        .stop()
                        .animate({"left":"-100%"},400);
                    current++;
                    if (current ==5 ) { current = 0 }
                    $("#wrap li")
                        .eq(current)
                        .css({"left":"100%"})
                        .stop()
                        .animate({"left":0},400,function(){overBtn=false});
                    console.log(current);
                }
            };

            // prevSlider() 함수 생성
            function prevSlider() {

                if (overBtn == false) { 
                    // 0 ⇨ 100%
                    $("#wrap li")
                        .eq(current)
                        .css({"left":0})
                        .stop()
                        .animate({"left":"100%"});
                    
                    current--; // current = current - 1;                    
                    if( current == -1) { current = 4; }

                    // 4(-100%) ⇨ 0
                    $("#wrap li")
                        .eq(current)
                        .css({"left":"-100%"})
                        .stop()
                        .animate({"left":0},400,function(){overBtn=false});
                    console.log(current);
                };
            };


            $(".next").click(function() { // .nextBtn "Click" ⇨ nextSlider() 함수 실행
                nextSlider(); // nextSlider() 함수 실행
            });

            $(".prev").click(function() {
                prevSlider();
            });


            //  autoplay  함수
            // setInterval(function(){
            //     $(".next").trigger("click");
            // },3000);


        </script>
    </body>
</html>