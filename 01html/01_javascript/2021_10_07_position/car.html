<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>car</title>
    <link rel="stylesheet" href="../css/reset.css">
    <style>
        .panel {
            width: 600px; height: 300px;
            border: 1px solid #000;
            margin: 0 auto;
            position: relative;
        }
        .bar {
            width: 500px; height: 20px;
            background-color: red;
            position:absolute; left: 50px; top:190px;
        }
        .car {
            position:absolute; left: 50px; top:120px;
        }
        .car.rotate {
            transform:rotateY(180deg);
        }
    </style>
</head>
<body>
    <div class="panel">
        <div class="bar"></div>
        <div class="car"><img src="../images/car.png" alt=""></div>
    </div>
    <button class="tbn_start">start</button>
    <button class="tbn_stop">stop</button>

    <!-- javaScript workArea -->
    <script src="../js/jquery-3.1.1.min.js"></script>
    <script>
        const car = $(".car");
        const bar = $(".bar");
         
        const carStart = bar.position().left; // 바의 시작 위치 ≒ 자동차 시작 위치
        const carEnd = carStart + (bar.width() - car.width()); // 자동차 도착 위치 = 자동차의 시작 위치 + (바의 너비 - 자동차의 너비)
        let current = carStart; // 자동차 현위치 
        let carStep = 2;        // 자동차 이동거리

        setInterval(carMove,30);

        function carMove() {
            current += carStep;
            if (current > carEnd) {
                carStep = -2;
                car.addClass("rotate");
            } 
            if (current < carStart) {
                carStep = 2;
                car.removeClass("rotate");
            }
            car.css("left",current);
        }


    </script>
</body>
</html>